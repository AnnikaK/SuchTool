\chapter{Die Benutzeroberfläche}
Dieses Kapitel begründet die Konzeption der Oberfläche und erläutert deren Bedienung.\\

\section{Anforderungen}
Die Benutzeroberfläche muss die folgenden, aus der Problemstellung resultierenden Funktionalitäten erfüllen:
\begin{itemize}
	\item Wählen und Festlegen des Suchverzeichnisses.
	\item Eingabe des Suchtextes.
	\item Auswählen der Freitextsuche.
	\item Auswählen der Attributnamen für die Metadatensuche.
	\item Auswahl von logischen Operatoren zur internen Verknüpfung mehrerer Suchkriterien.
	\item Auswahl von logischen Operatoren zur externen Verknüpfung mehrerer Teilanfragen. 
	\item Anzeigen der Anfrage.
	\item Zurücksetzen der Anfrage.
	\item Starten der Suche.
	\item Anzeige der Resultate.

	
\end{itemize}

Neben den oben genannten inhaltlichen Anforderungen sind noch weitere Punkte bezüglich Anwenderfreundlichkeit zu berücksichtigen: \\
\begin{itemize}
\item Übersichtlichkeit
\item Intuitive Bedienbarkeit, d.h. der Nutzer soll möglichst wenig über die Bedienung nachdenken müssen
\end{itemize}

In den folgenden Abschnitt wird erläutert, auf welche Weise diese Punkte realisiert wurden.

\section{Grundaufbau der Oberfläche}
Die Oberfläche wurde, um dem Nutzer genügend Übersichtlichkeit zu bieten, in drei Bereiche gegliedert, die in Abbildung \ref{overview} gezeigt sind. \\
Der oberste Bereich beinhaltet die Verzeichnisauswahl, da dies der erste vom Anwender auszuführende Schritt ist.
In der Mitte befindet sich die Anzeige der Gesamtanfrage, weil sie sich dort sofort im Blickfeld des Nutzers befindet. 
Die Erstellung der Teilanfragen wurde im unteren Teil der Oberfläche untergebracht, da sich hier die meisten Bedienungselemente befinden und eine andere Position unweigerlich Einbußen  bezüglich Übersichtlichkeit zur Folge gehabt hätte. \\
Funktional zusammengehörige Elemente wurden stets nah beieinander angeordnet, um das Gesetz der Nähe zu berücksichtigen.
Dieses besagt, dass Elemente, die nah zusammen liegen, vom Anwender als zusammengehörig wahrgenommen werden (\cite{Hofer:17}, S.17).
\begin{figure} [http]
	\centering
	\includegraphics[width=1\textwidth]{images/overview.png}
	\caption{Gliederung der Benutzeroberfläche. Teil \textit{a} beinhaltet die Verzeichnisauswahl, Teil \textit{b} die gesamte Suchanfrage und Teil\textit{c} die Erstellung der Teilanfrage (Eigene Abbildung).}
	\label{overview}
	
\end{figure}

\section{Verzeichnisauswahl}
Die Verzeichnisauswahl (siehe Abbildung \ref{overview} Teil a) besteht aus einem Textfeld und dem rechts daneben befindlichen Button mit der Aufschrift \glqq select\grqq{}, welcher das Auswahlmenü öffnet.
Das Menü wird in einem separaten Pop-Up-Fenster angezeigt (siehe Abbildung \ref{select}) und bietet zwei Möglichkeiten, ein Verzeichnis zu selektieren: \\
\begin{itemize}
	\item Eintippen des Pfads in ein Textfeld
	\item Auswahl des Verzeichnisses über ein Dropdown-Menü
\end{itemize}

Der Nutzer muss die Wahl anschließend mit \glqq ok\grqq{} bestätigen. Alternativ kann er den Dialog über \glqq cancel\grqq{} abbrechen. 
Einmal gewählt, wird der Verzeichnispfad im obersten Textfeld angezeigt und kann nachträglich nicht mehr geändert werden, weshalb der select-Button anschließend deaktiviert wird. Möchte der Nutzer in einem anderen Verzeichnis als bisher suchen, muss er das System erneut starten und dann dieses Verzeichnis auswählen. 

\begin{figure} [http]
	
	\centering
	\includegraphics[width=1\textwidth]{images/Select.png}
	\caption{Verzeichnisauswahl (eigene Abbildung)}
	\label{select}
	
\end{figure}

\section{Suchanfrage}
Im unteren Teil der Benutzeroberfläche (siehe Abbildung \ref{overview} Teil c) befinden sich die Attributnamen. 
Diese wurden als auswählbare Checkboxen realisiert, welche sich auf einem vertikal scrollbaren Panel befinden. Auf diese Weise ist sichergestellt, dass eine beliebig große Anzahl von Attributnamen angezeigt werden kann. 
Die Freitextsuche ist über die oberste Checkbox mit der Beschriftung \glqq Freitext\grqq{} auswählbar, womit diese wie ein zusätzlicher Attributname behandelt wird und sich damit in die Benutzeroberfläche einfügt. 
Dies ist gewollt, denn der Anwender soll nicht mitbekommen, dass die Freitextsuche intern anders realisiert wurde als die übrigen Auswahlmöglichkeiten. \\

\subsection{Zusammenstellung der Teilanfrage}
Im Textdisplay wird die Teilanfrage vom Nutzer eingegeben und lässt sich über den reset-Button zurücksetzen. 
Die ausgewählten Checkboxen bestimmen darüber, in welchen Bereichen nach dem eingegebenen Text gesucht werden soll, wobei beliebig viele auf einmal selektierbar sind. \\
Im Falle mehrerer ausgewählter Bereiche lassen sich die Teilergebnisse mit $AND$ sowie $OR$ verknüpfen. Der Operator lässt sich über zwei Radio-Buttons einstellen, die sich rechts neben dem Texteingabefeld befinden, wobei $AND$ die Standardauswahl ist.
Zusätzlich lässt sich die Anfrage durch das Auswählen der unterhalb der Radio-Buttons befindlichen Checkbox $NOT$ negieren. Der Operator bezieht sich hierbei auf das Gesamtergebnis der erstellten Teilanfrage, d.h. wenn die Verknüpfung der Treffer für die selektierten Attributnamen bzw. für die Freitextsuche bereits erfolgt ist. Sollen Suchkriterien einzeln negiert werden, müssen die Teilanfragen getrennt eingegeben werden.\\
Das Drücken von \glqq add\grqq{} fügt die soeben erstellte Teilanfrage der Gesamtanfrage hinzu. Eine Teilanfrage entspricht somit dem, was der Nutzer mit dem Betätigen des add-Buttons der im mittleren Textfeld angezeigten Gesamtanfrage hinzufügt (siehe Abbildung \ref{overview} Teil b).\\

\subsection{Beispiel}
Ein anhand von Grafiken erläutertes Beispiel hilft, die einzelnen Schritte besser nachvollziehen zu können.
Abbildung \ref{a} zeigt, wie der Name \glqq Dr. Claus-Peter Wirth\grqq{} im Absender oder in der Absender-Mail-Adresse gesucht werden soll. Das Betätigen des add-Buttons schließt die Teilanfrage ab, fügt sie der Gesamtanfrage hinzu und eröffnet die Möglichkeit, weitere zu stellen.

\begin{figure} [http]
	
	\centering
	\includegraphics[width=1.1\textwidth]{images/a}
	\caption{Attributnamen auswählen und intern verknüpfen, hier mit dem $OR$-Operator (eigene Abbildung).}
	\label{a}
	
\end{figure}

Abbildung \ref{b} zeigt, wie der Suchbegriff \glqq dfki\grqq{}\footnote{DFKI = Deutsches Forschungszentrum für Künstliche Intelligenz} im Bereich Freitext gesucht werden soll. Es erfolgt ein erneutes Hinzufügen der zweiten Teilanfrage durch Drücken von \glqq add\grqq{}.



\begin{figure} [http]
	
	\centering
	\includegraphics[width=1.1\textwidth]{images/b2}
	\caption{Freitextauswahl. Da nur ein Suchbereich ausgewählt ist, bleibt der selektierte $OR$-Operator ohne Wirkung (eigene Abbildung).}
	\label{b}
	
\end{figure}

\section{Gesamtanfrage}
 Das externe Verknüpfen mehrerer Teilanfragen mit $AND$ bzw. $OR$ wird durch zwei Radio-Buttons unter dem oberen Textdisplay (siehe Abbildung \ref{overview}, Teil b) geregelt, wobei die Standardauswahl auch hier $AND$ ist. 
Wenn stattdessen $OR$ erwünscht ist, muss diese Auswahl vor dem Hinzufügen einer weiteren Teilanfrage erfolgen, da eine Änderung des Operators im Nachhinein nicht mehr möglich ist! 
Abbildung \ref{c} zeigt, wie die im Textfeld angezeigte Gesamtanfrage für das Beispiel mit dem Operator $AND$ aussieht. 
In dieses Feld lässt sich vom Nutzer nichts eingeben, um die korrekte Anzeige der intern gespeicherten Anfrage sicherzustellen. \\

\begin{figure} [http]
	
	\centering
	\includegraphics[width=1.1\textwidth]{images/b}
	\caption{Anzeige der Gesamtanfrage auf dem mittleren Textfeld (siehe Abbildung \ref{overview} Teil b) (eigene Abbildung).}
	\label{c}
	
\end{figure}

\section{Ergebnis}
Der Nutzer kann die Gesamtanfrage über den reset-Button zurücksetzen oder über den search-Button die Suche starten. 
Das Drücken von \glqq search\grqq{} öffnet ein Pop-Up-Fenster, welches die Resultate anzeigt, was in Abbildung \ref{d} gezeigt ist. 
In einer tabellarischen Ansicht werden die Ranking-Position, der Score des Dokuments, wenn möglich Datum und Absender sowie der Dateipfad angezeigt. 
Die Tabelle ist vertikal scrollbar (siehe Abbildung \ref{res}), um eine beliebig große Zahl von Ergebnissen anzeigen zu können. Eine Begrenzung wurde nicht vorgenommen, da keine Resultate ausgeschlossen werden sollen. Der Nutzer kann sich an den Ranking-Positionen orientieren und selbst entscheiden, welche Resultate für ihn relevant sind und welche er aufgrund eines zu niedrigen Scores ausschließen möchte. \\
Die Einträge der Tabelle lassen sich per Doppelklick auswählen und werden je nach ausgewähltem Modus auf verschiedene Arten geöffnet. Der Modus lässt sich über zwei oben links über der Tabelle angebrachte Radio-Buttons einstellen: \glqq Open directory\grqq{} öffnet das Verzeichnis, zu dem das Dokument gehört, und markiert die Datei, \glqq Open file \grqq{} öffnet die Datei hingegen direkt.
Das Drücken von \glqq ok\grqq{} schließt das Ergebnisfenster.

\begin{figure} [http]
	
	\centering
	\includegraphics[width=1.1\textwidth]{images/c}
	\caption{Pop-Up Fenster zur Anzeige der Resultate (eigene Abbildung).}
	\label{d}
	
\end{figure}

\begin{figure} [http]
	
	\centering
	\includegraphics[width=1.1\textwidth]{images/results}
	\caption{Scrollbare Anzeige, um beliebig viele Resultate anzeigen zu können (eigene Abbildung).}
	\label{res}
	
\end{figure}